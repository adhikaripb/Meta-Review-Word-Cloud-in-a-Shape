# Meta-Review-Word-Cloud-in-a-Shape

The script was generated during a meta-review study as a test-of-concept.
It generates insightful word-cloud visualizations from literature RIS files, shaped by custom masks.

## Description

This script reads reference entries from an RIS file, processes titles and abstracts, and produces:
- A CSV file of word frequencies.
- A PNG word-cloud image, clipped to a custom shape mask.

Non-interactive (CLI) mode is fully supported via `argparse` flags—no prompts required.

## Installation

1. Create and activate a virtual environment:
   ```bash
   python -m venv venv
   source venv/bin/activate   # macOS/Linux
   venv\Scripts\activate    # Windows
   ```
2. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```

## Usage

```bash
python wordcloud_cli_ready.py [options]
```

### CLI Arguments

| Flag                         | Type    | Default       | Description                                                                                    |
|------------------------------|---------|---------------|------------------------------------------------------------------------------------------------|
| `--mode`                     | choice  | `interactive` | Run in CLI or interactive mode (`cli` or `interactive`).                                       |
| `--shape_mask_path`          | string  | `None`        | Path to a PNG mask file defining the cloud silhouette. Default shape has been assigned circle. |
| `--max_font_size`            | integer | `700`         | Maximum font size for the largest word.                                                        |
| `--inclusion_terms_file`     | string  | `None`        | File containing term-groups (one comma-delimited group per line).                              |
| `--case_sensitive`           | flag    | _off_         | Treat matching as case-sensitive.                                                              |
| `--exclude_words`            | string  | `None`        | Comma-separated or JSON list of words/phrases to exclude.                                      |
| `--constraints`              | string  | `None`        | Comma-separated constraint terms (or JSON list).                                               |
| `--constraints_listoflists`  | flag    | _off_         | Interpret `--constraints` as a JSON list of lists.                                             |
| `--meta_constraints`         | string  | `None`        | JSON list-of-lists for sequential runs with different constraint sets.                         |
| `--mutual_inclusivity`       | flag    | _off_         | Require all constraint terms to co-occur.                                                      |
| `--medium_freq_threshold`    | float   | `None`        | Medium-frequency cutoff for custom coloring.                                                   |
| `--minimum_freq_threshold`   | float   | `None`        | Minimum-frequency cutoff for coloring.                                                         |
| `--show_plot`                | flag    | _off_         | Display the wordcloud image in a window upon completion.                                       |

### Examples

1. **Default run** (uses built-in mask & RIS file):
   ```bash
   python wordcloud_cli_ready.py
   ```
2. **Custom mask & exclusions**:
   ```bash
   python wordcloud_cli_ready.py \
     --shape-mask-path assets/leaf_mask.png \
     --exclude-words "['root hair','callus']" \
     --show-plot
   ```
3. **Constraint-based filtering**:
   ```bash
   python wordcloud_cli_ready.py \
     --constraints "fruit development,fruit growth" \
     --medium-freq-threshold 0.25 --minimum-freq-threshold 0.05
   ```

## Outputs

All outputs are saved to the `Data/outputs/` directory under the script’s folder:
- `<prefix>_word-frequency.csv`
- `<prefix>.png` (the generated word-cloud image)
- The title prefix include constraints and max font size for reference.

## Essential Notes
- For a reliable frequency-to-word-size generation, font-size needs to be customized. For that reason, the script out the font-size at each run. The user is expected to check and calibrate the font size prented by for each word-cloudof a term and its respective frequency in the csv file
- Please cite the following publication when referred
  - Adhikari PB, Kasahara RD. An Overview on MADS Box Members in Plants: A Meta-Review. International Journal of Molecular Sciences. 2024; 25(15):8233. https://doi.org/10.3390/ijms25158233

## Requirements

Listed in `requirements.txt`, including:
- `wordcloud`
- `numpy`
- `Pillow`
- `matplotlib`
- `rispy`

## License

MIT License. See [LICENSE](LICENSE) for details.

---

*Generated by Prakash’s Meta-Review-Word-Cloud-in-a-Shape CLI utility.*